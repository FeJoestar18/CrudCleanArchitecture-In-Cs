### Cat√°logo de Produtos - Sistema de Permiss√µes Hier√°rquico

### ===== REGISTRO E LOGIN =====

### 1. Registrar Admin
POST http://localhost:5000/api/auth/register
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123",
  "cpf": 11111111111,
  "email": "admin@email.com",
  "role": "Admin"
}

### 2. Registrar Funcion√°rio
POST http://localhost:5000/api/auth/register
Content-Type: application/json

{
  "username": "funcionario",
  "password": "func123",
  "cpf": 22222222222,
  "email": "funcionario@email.com",
  "role": "Funcionario"
}

### 3. Registrar Usu√°rio
POST http://localhost:5000/api/auth/register
Content-Type: application/json

{
  "username": "usuario",
  "password": "user123",
  "cpf": 33333333333,
  "email": "usuario@email.com",
  "role": "Usuario"
}

### 4. Login Admin
POST http://localhost:5000/api/auth/login
Content-Type: application/json

{
  "email": "admin@email.com",
  "password": "admin123"
}

### 5. Login Funcion√°rio
POST http://localhost:5000/api/auth/login
Content-Type: application/json

{
  "email": "funcionario@email.com",
  "password": "func123"
}

### 6. Login Usu√°rio
POST http://localhost:5000/api/auth/login
Content-Type: application/json

{
  "email": "usuario@email.com",
  "password": "user123"
}

### ===== PRODUTOS (CRUD) =====

### 7. Listar todos os produtos (Todos podem ver)
GET http://localhost:5000/api/product
Authorization: Bearer SEU_TOKEN_AQUI

### 8. Buscar produto por ID
GET http://localhost:5000/api/product/1
Authorization: Bearer SEU_TOKEN_AQUI

### 9. Criar produto (Funcion√°rio ou Admin)
# ‚úì Funcion√°rio pode criar
# ‚úì Admin pode criar
# ‚úó Usu√°rio N√ÉO pode criar
POST http://localhost:5000/api/product
Content-Type: application/json
Authorization: Bearer TOKEN_FUNCIONARIO_OU_ADMIN

{
  "name": "Notebook Dell",
  "description": "Notebook Dell Inspiron 15",
  "price": 3500.00,
  "stock": 10
}

### 10. Criar mais produtos de exemplo
POST http://localhost:5000/api/product
Content-Type: application/json
Authorization: Bearer TOKEN_FUNCIONARIO_OU_ADMIN

{
  "name": "Mouse Logitech",
  "description": "Mouse sem fio",
  "price": 89.90,
  "stock": 50
}

###
POST http://localhost:5000/api/product
Content-Type: application/json
Authorization: Bearer TOKEN_FUNCIONARIO_OU_ADMIN

{
  "name": "Teclado Mec√¢nico",
  "description": "Teclado mec√¢nico RGB",
  "price": 299.00,
  "stock": 25
}

### 11. Atualizar produto (Funcion√°rio ou Admin)
# ‚úì Funcion√°rio pode editar
# ‚úì Admin pode editar
# ‚úó Usu√°rio N√ÉO pode editar
PUT http://localhost:5000/api/product/1
Content-Type: application/json
Authorization: Bearer TOKEN_FUNCIONARIO_OU_ADMIN

{
  "name": "Notebook Dell Atualizado",
  "price": 3200.00,
  "stock": 15
}

### 12. Deletar produto como Funcion√°rio (Solicita aprova√ß√£o)
# Funcion√°rio: marca como "pendente de dele√ß√£o"
DELETE http://localhost:5000/api/product/2
Authorization: Bearer TOKEN_FUNCIONARIO

### 13. Deletar produto como Admin (Deleta imediatamente)
# Admin: deleta sem precisar de aprova√ß√£o
DELETE http://localhost:5000/api/product/3
Authorization: Bearer TOKEN_ADMIN

### ===== APROVA√á√ÉO DE DELE√á√ÉO (APENAS ADMIN) =====

### 14. Listar produtos pendentes de dele√ß√£o (Apenas Admin)
GET http://localhost:5000/api/product/pending-deletion
Authorization: Bearer TOKEN_ADMIN

### 15. Aprovar dele√ß√£o de produto (Apenas Admin)
POST http://localhost:5000/api/product/2/approve-deletion
Authorization: Bearer TOKEN_ADMIN

### 16. Rejeitar dele√ß√£o de produto (Apenas Admin)
POST http://localhost:5000/api/product/2/reject-deletion
Authorization: Bearer TOKEN_ADMIN

### ===== COMPRA DE PRODUTOS (USU√ÅRIO) =====

### 17. Usu√°rio adquire produto
# ‚úì Todos os n√≠veis podem comprar
POST http://localhost:5000/api/product/purchase
Content-Type: application/json
Authorization: Bearer TOKEN_USUARIO

{
  "productId": 1,
  "quantity": 2
}

### 18. Comprar mais produtos
POST http://localhost:5000/api/product/purchase
Content-Type: application/json
Authorization: Bearer TOKEN_USUARIO

{
  "productId": 2,
  "quantity": 1
}

### 19. Listar meus produtos adquiridos
GET http://localhost:5000/api/product/my-products
Authorization: Bearer TOKEN_USUARIO

### ===== RESUMO DE PERMISS√ïES =====

###
### üìä MATRIZ DE PERMISS√ïES:
###
### A√ß√£o                    | Usuario | Funcionario | Admin
### -------------------------|---------|-------------|-------
### Listar produtos         |    ‚úì    |      ‚úì      |   ‚úì
### Ver produto             |    ‚úì    |      ‚úì      |   ‚úì
### Criar produto           |    ‚úó    |      ‚úì      |   ‚úì
### Editar produto          |    ‚úó    |      ‚úì      |   ‚úì
### Deletar produto         |    ‚úó    |  ‚úì (pend.) |   ‚úì
### Aprovar/Rejeitar del.   |    ‚úó    |      ‚úó      |   ‚úì
### Ver pendentes dele√ß√£o   |    ‚úó    |      ‚úó      |   ‚úì
### Comprar produto         |    ‚úì    |      ‚úì      |   ‚úì
### Ver minhas compras      |    ‚úì    |      ‚úì      |   ‚úì
###

### ===== FLUXO DE DELE√á√ÉO COM APROVA√á√ÉO =====

### Cen√°rio 1: Funcion√°rio solicita, Admin aprova
# 1. Funcion√°rio solicita dele√ß√£o
DELETE http://localhost:5000/api/product/1
Authorization: Bearer TOKEN_FUNCIONARIO

# 2. Admin visualiza pend√™ncias
GET http://localhost:5000/api/product/pending-deletion
Authorization: Bearer TOKEN_ADMIN

# 3. Admin aprova
POST http://localhost:5000/api/product/1/approve-deletion
Authorization: Bearer TOKEN_ADMIN

### Cen√°rio 2: Funcion√°rio solicita, Admin rejeita
# 1. Funcion√°rio solicita dele√ß√£o
DELETE http://localhost:5000/api/product/2
Authorization: Bearer TOKEN_FUNCIONARIO

# 2. Admin rejeita (produto volta ao normal)
POST http://localhost:5000/api/product/2/reject-deletion
Authorization: Bearer TOKEN_ADMIN

### Cen√°rio 3: Admin deleta diretamente (sem aprova√ß√£o)
DELETE http://localhost:5000/api/product/3
Authorization: Bearer TOKEN_ADMIN
# ‚úì Produto deletado imediatamente

###

